# 添加索引

向Elasticsearch添加数据，我们需要_索引_——一个存储相关数据的地方。实际上，索引只是一个指向一个或多个物理 _分片_ 的`逻辑名字空间`。

_分片_是一个低级别的工作单元。每个分片都是Lucene的一个实例，并且是一个完整的独立的搜索引擎。文档存储在和被索引到分片，但应用并不会直接访问他们。相反，他们会访问索引。

分片是Elasticsearch如何在集群中分发数据的方式，你可以把分片想象成数据的容器。文档存储在分片中，而分片则被分配给集群的各个节点。随着集群的扩容或者，Elasticsearch将自动在节点之间迁移分片来保持集群的平衡。

一个分片可以是主分片或者一个副本分片。索引中的每份文档属于一个主分片，所以你拥有的主分片的数量就决定了你的索引能存储的数据的最大量。

****
虽然一个主分片可以存数据的量理论上没有限制，但实际上是有限制的。最大分片的大小完全取决于你的使用情况：你的硬件，你的文档的大小和复杂程度，你如何所以和查询你的文档，以及你期望的响应时间。
****

一个副本分片就是一个主分片的拷贝。副本被用于为你的数据提供冗余，以抵御硬件故障，并服务于类似检索的读请求。

一个索引的主分片数量是在它被创建时确定的，但是，副本分片的数量是随时可以改变的。

让我们在我们的单节点集群上创建一个叫做`blog`的索引。默认情况下，索引被分配5个主分片，但是在这个例子中，我们将只分片3个主分片和1个副本（每个主分片一个副本）：

``` js
PUT /blogs
{
   "settings" : {
      "number_of_shards" : 3,
      "number_of_replicas" : 1
   }
}
```
